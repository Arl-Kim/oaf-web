<html>
	<head>
		<style>
            .donation-form{
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                column-gap: 20px;
            }

            .donation-form form{
                text-align: center;
            }

            .donation-form form label{
                font-weight: 700;
            }

            .donation-form form input{
                color: #689b42;
                padding: 10px 40px;
                margin-bottom: 20px;
                border: 3px solid #527335;
                border-radius: 0;
                transition: all 400ms ease-in-out;
            }

            .donation-form form input:focus{
                color: #689b42;
                outline: none;
                border: 3px solid #fff;
            }

			.intaSendPayButton{
				background:#527335;
				color: #cbd5e1;
				border-radius: 0;
				border: 3px solid #fff;
				font-family: 'Roboto Mono';
				font-size: 24px;
				font-weight: 700;
				padding: 30px;
				box-shadow: 0px 0px 10px 0px #fff;
				position: relative;
     			top: 0;
     			transition: top 500ms ease-in-out;
			}

			.intaSendPayButton:hover{
				background: #cbd5e1;
				color: #527335;
				border: 3px solid #fff;
				cursor: pointer;
				top: 10px;
			}
		</style>
	</head>
	<body>
		<div class="donation-form">
            <form id="donationForm">
                <label for="name">Your Name</label><br>
                <input type="text" id="name" placeholder="enter your name" required><br>
                <label for="email">Your Email</label><br>
                <input type="email" id="email" placeholder="enter your email address" required><br>
                <label for="phone">Your Phone Number</label><br>
                <input type="tel" id="phone" placeholder="enter your number"><br>
                <label for="amount">Enter Amount (KES)</label><br>
                <input type="number" id="amount" min="0" max="150000" step="1" required><br>
                <button type="submit" class="intaSendPayButton" id="intasend_pay" data-amount="" data-currency="KES">
                    Donate Now
                </button>
            </form>
		    <script> 
                const intasend = new window.IntaSend({
                publicAPIKey: "ISPubKey_live_b358575d-bd81-4f31-89a1-634f9dfc502b",
                live: false // set to true when going live
                });

                const donationForm = document.getElementById('donationForm');
                const amountInput = document.getElementById('amount');
                const donateButton = document.querySelector('.intaSendPayButton');

                amountInput.addEventListener('input', function() {
                    const amountValue = amountInput.value;
                    donateButton.setAttribute('data-amount', amountValue);
                });

                donationForm.addEventListener('submit', function(event) {
                    event.preventDefault();

                    const amount = amountInput.value;
                    if (amount && amount > 0) {
                        intasend.pay({
                            amount: amount,
                            currency: "KES"
                        })
                        .on("COMPLETE", (results) => {
                            console.log("Payment successful", results);
                        })
                        .on("FAILED", (results) => {
                            console.log("Payment failed", results);
                        })
                        .on("IN-PROGRESS", (results) => {
                            console.log("Payment in progress", results);
                        });
                    } else {
                        console.log("Invalid amount entered.");
                    }
                });
		    </script>
	    </div>
    </body>
</html>